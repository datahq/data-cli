language: node_js
node_js:
- '8'
install:
- npm install
script: npm test
before_deploy: npm run pack
deploy:
  - provider: releases
    api_key:
      secure: "Ids51LgFBEoOR1q1DrmxNRP/ryPHPEAuf7vsO7aBVy+qFwcaRzwmvxvjPVa5907Sv7zkccg+qbFW9+W1HQ7IYi4nyaX/4o8WaxQgev2aki2KD5ztQlsWeGRcquAZfZplLrUbXJkEW8cnXcGIE8QKc08yiQa25+3s8fsBi797z8pj04iLAvkK600lFbKls90rQH7FsIlIrc0LarvNNFqEi/qtUoPeMQ6ksWoE1emvRZfLaIh8IIgzfN00MxX/hZb+50v2eZaypjfODZZL5GDvnCM+fofqCyEnJwo0JLxRHz7rHKN4/nAN6Rbvqx2bGQu7WtWCX3nT+u7rdgg3gjqR4oeHHpNqhalwXpfPWU/3G9HiyCSODqa/bps8FODM3hm8+LENQrsWYWZ6/mLxY76F97MqHTQHSz4rB74aKDc+nZ1Teqw8oykC0T47JwguH+ZIfKt7bOW9awWFkEbPSOrWNGQV7ZVjhxKlr4bazeYUyHFhTLjkawH8P1jRSt3H2a+AZES5cDuXEwKER7I7hZU7FCNNbFxUHJo0rSG/dynFk9jmiSmUELAKkkj/C0UTP3r55Zkq7LleOlfhXELmk6cEr+uQIAm/OzQ/CKL+5Vq1uhSNqmdxFGURHQNUQrv2tmysyNEzo+N9mwtOQH43JRjT7PnhuTWI/BOrqi8kk7csUaw="
    file_glob: true
    file: "packed/*"
    skip_cleanup: true
    on:
      tags: true
  - provider: npm
    email: datahub@datopian.com
    api_key:
      secure: W70CaMh/5BGI8TG0YyHdkPPJmzXR5of/hwZd3LBaFP3FELssC3pqxs2HiKnjHH3CLqhCj71lKs2nYoWd8/+xKM3woT/HwkVeuMq+tJ3nsOpqE1KjlGxhNT86OayOq/8eDG4qP3/fdUdMi05AVRvAbSaGMHgnWpQoC/c4h86feoYP71IKQC7hPB+DFvEiXY/EzqEJJV8L3Y0GaXIFt1VkIOBZRzHonSUTgfwfJ8F3PCn9yVg9TgEk98mipLEeiS5C8V9vCe8AeNquuoBnfyd2kn+506f//2+BevpH8VoFh3Ngkhr2re53Vyp7oIti5Fh7Do8zZooy+rk1PA4xccFah2Wx1DLKfk91l5o5SbDB+W2ufeoeCmOylTsGPEqEtPNL9HrK/PXmfzAaBCas8ljzd8ytPTMwr0cwpCo5Kni/ACsMtaC23ffIFIxrr0lAadXZRvdmhvQgenvWjTDp81qEVKO/Lpn8mKTVmB2FVFewqs8fnV+LpzM0aFNrb7AF+1oIZWiEQNqW4c2VXgTNdXL+dDEcoVhDadBoaFtSKZCYV7+OiQMPSOBv8jQDFqVbao84yjR6MQT3ZdFBhEcTjxEMR6WKi0Q7LxJZfmOBC1/mp2Lz4Ku7Z3wtoedspqmN36jY4DTI1g09NWIMvM6/MDpks/hFIsKy2Ff1Z5sXoeWkQA4=
    on:
      tags: true